"use strict";(self.webpackChunkproject_42_front=self.webpackChunkproject_42_front||[]).push([[27],{1027:function(e,n,t){t.r(n),t.d(n,{default:function(){return $}});var r,a,o,i,s,l,c,d,m,u,p,h=t(7762),x=t(3433),f=t(1413),g=t(9439),b=t(2791),v=t(5705),j=t(6727),y=t(7689),Z=t(168),k=t(6444),w=t(1087),C=(0,k.ZP)(w.rU)(r||(r=(0,Z.Z)(["\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  gap: 12px;\n  color: var(--cl-blue-link);\n  text-decoration: none;\n  font-weight: 700;\n  font-size: 16px;\n  line-height: calc(22 / 16);\n  height: 22px;\n"]))),N=t(3439),q=t(184),B=function(e){var n=e.to,t=e.children;return(0,q.jsxs)(C,{to:n,children:[(0,q.jsx)("svg",{width:24,height:24,children:(0,q.jsx)("use",{href:N.Z+"#arrow-left"})}),t]})},P=k.ZP.div(a||(a=(0,Z.Z)(["\n  display: flex;\n  flex-direction: column;\n  row-gap: 12px;\n  margin-bottom: 91px;\n\n  @media screen and (min-width: 768px) {\n    margin-bottom: 137px;\n  }\n"]))),F=(0,k.ZP)(v.gN)(o||(o=(0,Z.Z)(["\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  margin: -1px;\n  border: 0;\n  padding: 0;\n  white-space: nowrap;\n  clip-path: inset(100%);\n  clip: rect(0 0 0 0);\n  overflow: hidden;\n"]))),S=k.ZP.label(i||(i=(0,Z.Z)(["\n  width: fit-content;\n  position: relative;\n  padding: 8px 16px;\n  cursor: pointer;\n  border-radius: 40px;\n  font-weight: 500;\n  font-size: 14px;\n  line-height: calc(19 / 14);\n  letter-spacing: 0.04em;\n  color: var(--cl-blue-link);\n  background-color: var(--cl-blue-light);\n\n  transition: background-color var(--animat), color var(--animat);\n\n  &:hover,\n  &:focus,\n  ",":checked + & {\n    background-color: var(--cl-blue-link);\n    color: var(--cl-background);\n  }\n"])),F),T=k.ZP.div(s||(s=(0,Z.Z)(["\n  display: flex;\n  flex-direction: column-reverse;\n  align-items: center;\n  justify-content: center;\n  gap: 20px;\n\n  @media screen and (min-width: 768px) {\n    flex-direction: row;\n    gap: 24px;\n  }\n"]))),_=k.ZP.button(l||(l=(0,Z.Z)(["\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  gap: 12px;\n  background-color: var(--cl-blue-link);\n  min-width: 248px;\n  padding: 9px 0;\n  border: none;\n\n  font-weight: 700;\n  font-size: 16px;\n  line-height: calc(22 / 16);\n  letter-spacing: 0.04em;\n  color: var(--cl-background);\n  border-radius: 40px;\n\n  cursor: pointer;\n\n  &:disabled {\n    color: var(--cl-gray);\n    background-color: var(--cl-blue-light);\n    pointer-events: none;\n  }\n"]))),z=k.ZP.svg(c||(c=(0,Z.Z)(["\n  fill: var(--cl-background);\n"]))),A=function(e){var n,t,r=e.onNext,a=e.onSelectCategory,o=e.selectedCategory,i=(0,y.TH)(),s=(0,b.useRef)(null!==(n=null===(t=i.state)||void 0===t?void 0:t.from)&&void 0!==n?n:"/main"),l=(0,b.useState)(!0),c=(0,g.Z)(l,2),d=c[0],m=c[1];(0,b.useEffect)((function(){m(!o)}),[o]);var u=function(e){var n=e.target.value;a(n)};return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)(P,{children:[(0,q.jsx)(F,{type:"radio",name:"category",value:"your-pet",id:"your-pet",checked:"your-pet"===o,onChange:u}),(0,q.jsx)(S,{htmlFor:"your-pet",children:"your pet"}),(0,q.jsx)(F,{type:"radio",name:"category",value:"sell",id:"sell",checked:"sell"===o,onChange:u}),(0,q.jsx)(S,{htmlFor:"sell",children:"sell"}),(0,q.jsx)(F,{type:"radio",name:"category",value:"lost-found",id:"lost-found",checked:"lost-found"===o,onChange:u}),(0,q.jsx)(S,{htmlFor:"lost-found",children:"lost/found"}),(0,q.jsx)(F,{type:"radio",name:"category",value:"for-free",id:"for-free",checked:"for-free"===o,onChange:u}),(0,q.jsx)(S,{htmlFor:"for-free",children:"in good hands"})]}),(0,q.jsxs)(T,{children:[(0,q.jsx)(B,{to:s.current,children:"Cancel"}),(0,q.jsxs)(_,{type:"button",onClick:r,disabled:d,children:["Next",(0,q.jsx)(z,{width:24,height:24,children:(0,q.jsx)("use",{href:N.Z+"#pawprint"})})]})]})]})},D=function(e){var n=e.onBack,t=e.onNext,r=e.selectedCategory,a=e.setFormValues,o=(0,v.u6)(),i=o.values,s=o.setTouched,l=(0,b.useState)(!0),c=(0,g.Z)(l,2),d=c[0],m=c[1],u=(0,b.useCallback)((function(){var e={};return"your-pet"!==r&&(i.title||(e.title="Title is required")),i.name||(e.name="Name is required"),i.date||(e.date="Date of birth is required"),i.breed?i.breed.length<2?e.breed="Breed must be at least 2 characters":i.breed.length>16&&(e.breed="Breed must be at most 16 characters"):e.breed="Breed is required",e}),[r,i]);return(0,b.useEffect)((function(){var e=u();m(Object.keys(e).length>0)}),[i,r,u]),(0,q.jsxs)(q.Fragment,{children:["your-pet"!==r&&(0,q.jsxs)("div",{children:[(0,q.jsxs)("label",{children:["Title of add",(0,q.jsx)(v.gN,{type:"text",name:"title",placeholder:"Type title"})]}),(0,q.jsx)(v.Bc,{name:"title",component:"div",className:"error-message"})]}),(0,q.jsxs)("div",{children:[(0,q.jsxs)("label",{children:["Pet\u2019s name",(0,q.jsx)(v.gN,{type:"text",name:"name",placeholder:"Type name pet"})]}),(0,q.jsx)(v.Bc,{name:"name",component:"div",className:"error-message"})]}),(0,q.jsxs)("div",{children:[(0,q.jsxs)("label",{children:["Date of birth",(0,q.jsx)(v.gN,{type:"text",name:"date",placeholder:"Type date of birth"})]}),(0,q.jsx)(v.Bc,{name:"date",component:"div",className:"error-message"})]}),(0,q.jsxs)("div",{children:[(0,q.jsxs)("label",{children:["Breed",(0,q.jsx)(v.gN,{type:"text",name:"breed",placeholder:"Type breed"})]}),(0,q.jsx)(v.Bc,{name:"breed",component:"div",className:"error-message"})]}),(0,q.jsx)("button",{type:"button",onClick:n,children:"Back"}),(0,q.jsx)("button",{type:"button",onClick:function(){s({title:!0,name:!0,date:!0,breed:!0});var e=u();0===Object.keys(e).length&&(a((function(e){return(0,f.Z)((0,f.Z)({},e),{},{title:i.title,name:i.name,date:i.date,breed:i.breed})})),t())},disabled:d,children:"Next"})]})},O=function(e){var n=e.form,t=e.field;return(0,q.jsx)("input",{name:t.name,type:"file",accept:"image/*",onChange:function(e){return n.setFieldValue(t.name,e.target.files[0])}})},V=function(e){var n=e.onBack,t=e.selectedCategory,r=e.setFormValues,a=(0,v.u6)(),o=a.values,i=a.setTouched,s=(0,b.useState)(!0),l=(0,g.Z)(s,2),c=l[0],d=l[1],m=(0,b.useCallback)((function(){var e={};return"your-pet"!==t&&(o.sex||(e.sex="Sex is required"),o.location||(e.location="Location is required")),"sell"===t&&(o.price||(e.price="Price is required")),o.avatar||(e.avatar="Avatar is required"),o.comments?o.comments.length<8?e.comments="Comments must be at least 8 characters":o.comments.length>120&&(e.comments="Comments must be at most 120 characters"):e.comments="Comments are required",e}),[t,o]);return(0,b.useEffect)((function(){var e=m();d(Object.keys(e).length>0)}),[o,t,m]),(0,q.jsxs)(q.Fragment,{children:[["sell","lost-found"].includes(t)&&(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)("div",{children:[(0,q.jsx)("p",{children:"The sex"}),(0,q.jsxs)("label",{children:["Female",(0,q.jsx)(v.gN,{type:"radio",name:"sex",value:"female"})]}),(0,q.jsxs)("label",{children:["Male",(0,q.jsx)(v.gN,{type:"radio",name:"sex",value:"male"})]}),(0,q.jsx)(v.Bc,{name:"sex",component:"div",className:"error-message"})]}),(0,q.jsxs)("div",{children:[(0,q.jsxs)("label",{children:["Location",(0,q.jsx)(v.gN,{type:"text",name:"location",placeholder:"Type of location"})]}),(0,q.jsx)(v.Bc,{name:"location",component:"div",className:"error-message"})]})]}),"sell"===t&&(0,q.jsxs)("div",{children:[(0,q.jsxs)("label",{children:["Price",(0,q.jsx)(v.gN,{type:"number",min:"0",name:"price",placeholder:"Type of price"})]}),(0,q.jsx)(v.Bc,{name:"price",component:"div",className:"error-message"})]}),(0,q.jsxs)("div",{children:[(0,q.jsxs)("label",{children:["Load the pet\u2019s image:",(0,q.jsx)(v.gN,{name:"avatar",component:O})]}),(0,q.jsx)(v.Bc,{name:"avatar",component:"div",className:"error-message"})]}),(0,q.jsxs)("div",{children:[(0,q.jsxs)("label",{children:["Comments",(0,q.jsx)(v.gN,{name:"comments",rows:"5",placeholder:"Type breed",component:"textarea"})]}),(0,q.jsx)(v.Bc,{name:"comments",component:"div",className:"error-message"})]}),(0,q.jsx)("button",{type:"button",onClick:n,children:"Back"}),(0,q.jsx)("button",{type:"submit",onClick:function(){i({sex:!0,location:!0,price:!0,avatar:!0,comments:!0});var e=m();0===Object.keys(e).length&&r((function(e){return(0,f.Z)((0,f.Z)({},e),{},{sex:o.sex,location:o.location,price:o.price,avatar:o.avatar,comments:o.comments})}))},disabled:c,children:"Done"})]})},M=k.ZP.div(d||(d=(0,Z.Z)(["\n  margin-right: auto;\n  margin-left: auto;\n  margin-top: 20px;\n  width: 280px;\n  min-height: 496px;\n  padding: 20px 8px 17px;\n  background-color: var(--cl-almost-white);\n  box-shadow: var(--shadow-default);\n  border-radius: 40px;\n\n  @media screen and (min-width: 768px) {\n    margin-top: 60px;\n    width: 458px;\n    min-height: 542px;\n    padding: 20px 32px;\n  }\n"]))),L=k.ZP.h1(m||(m=(0,Z.Z)(["\n  font-weight: 500;\n  font-size: 20px;\n  line-height: calc(27 / 20);\n  padding-left: 20px;\n  margin-bottom: 24px;\n\n  @media screen and (min-width: 768px) {\n    font-size: 28px;\n    line-height: calc(38 / 28);\n    padding-left: 32px;\n  }\n"]))),Y=k.ZP.ul(u||(u=(0,Z.Z)(["\n  display: flex;\n  align-items: center;\n  font-weight: 500;\n  font-size: 10px;\n  line-height: calc(14 / 10);\n  gap: 11px;\n  margin-bottom: 24px;\n  color: var(--cl-gray);\n\n  @media screen and (min-width: 768px) {\n    font-size: 16px;\n    line-height: calc(26 / 16);\n    margin-bottom: 40px;\n  }\n"]))),E=k.ZP.li(p||(p=(0,Z.Z)(["\n  position: relative;\n  padding-bottom: 20px;\n  flex-basis: calc((100% - 22px) / 3);\n\n  &::after {\n    content: '';\n    position: absolute;\n    bottom: 0;\n    left: 0;\n\n    width: 100%;\n    height: 8px;\n\n    background-color: var(--cl-blue-light);\n    border-radius: 8px;\n  }\n\n  &.active {\n    color: var(--cl-blue-link); /* Style for the active step */\n  }\n\n  &.active::after {\n    background-color: var(--cl-blue-link);\n  }\n\n  &.completed {\n    color: var(--cl-green); /* Style for the completed step */\n  }\n\n  &.completed::after {\n    background-color: var(--cl-green);\n  }\n"]))),R=(0,j.Ry)().shape({category:(0,j.Z_)().oneOf(["your-pet","sell","lost-found","for-free"]),name:(0,j.Z_)().required("Name is required").min(2,"Name must be at least 2 characters").max(16,"Name must be at most 16 characters"),date:(0,j.Z_)().required("Date is required").matches(/^\s*(3[01]|[12][0-9]|0?[1-9])\.(1[012]|0?[1-9])\.((?:19|20)\d{2})\s*$/,"Date must be in the format DD.MM.YYYY"),breed:(0,j.Z_)().min(2,"Breed must be at least 2 characters").max(16,"Breed must be at most 16 characters").required("Breed is required"),avatar:(0,j.nK)().required("File is required").test("fileSize","File size must not exceed 3MB",(function(e){return e.size<=3145728})),sex:(0,j.Z_)().when("category",{is:function(e){return["sell","lost-found","for-free"].includes(e)},then:(0,j.Z_)().required("Sex is required").oneOf(["male","female"],'Please select either "male" or "female"')}),location:(0,j.Z_)().matches(/^([a-zA-Z\u0080-\u024F]+(?:. |-| |'))*[a-zA-Z\u0080-\u024F]*$/,"Invalid location format. Please use city names only.").min(2,"City name must be at least 2 characters").required("Location is required"),price:(0,j.Rx)().min(0,"Price must be a positive number").integer("Price must be an integer").required("Price is required"),comments:(0,j.Z_)().min(8,"Comments must be at least 8 characters").max(120,"Comments must be at most 120 characters").required("Comments are required"),title:(0,j.Z_)().min(2,"Title must be at least 2 characters").required("Title is required")}),I=function(){var e=(0,b.useState)(1),n=(0,g.Z)(e,2),t=n[0],r=n[1],a=(0,b.useState)(""),o=(0,g.Z)(a,2),i=o[0],s=o[1],l=(0,b.useState)([]),c=(0,g.Z)(l,2),d=c[0],m=c[1],u=(0,b.useState)({category:i,name:"",date:"",breed:"",avatar:"",sex:"",location:"",price:"",comments:"",title:""}),p=(0,g.Z)(u,2),j=p[0],y=p[1],Z={1:"Add pet",2:{"your-pet":"Add my pet",sell:"Add pet for sell","lost-found":"Add lost or found pet","for-free":"Add pet for adoption"},3:{"your-pet":"Add my pet",sell:"Add pet for sell","lost-found":"Add lost or found pet","for-free":"Add pet for adoption"}},k=function(e){s(e),y((function(n){return(0,f.Z)((0,f.Z)({},n),{},{category:e})}))},w="string"===typeof Z[t]?Z[t]:"",C=t>1&&Z[t][i]||w,N=function(){m([].concat((0,x.Z)(d),[t])),r((function(e){return e+1}))},B=function(){r((function(e){return e-1}))};return(0,q.jsxs)(M,{children:[(0,q.jsx)(L,{children:C}),(0,q.jsx)(Y,{children:["Choose Option","Personal Details","More Info"].map((function(e,n){return(0,q.jsx)(E,{className:t===n+1?"active":d.includes(n+1)?"completed":"",children:e},n)}))}),(0,q.jsx)(v.J9,{initialValues:j,validationSchema:R,onSubmit:function(){var e=new FormData;if(e.append("category",j.category),e.append("name",j.name),e.append("date",j.date),e.append("breed",j.breed),e.append("avatar",j.avatar),e.append("comments",j.comments),"your-pet"!==j.category&&(e.append("title",j.title),e.append("sex",j.sex),e.append("location",j.location),"lost-found"!==j.category&&"for-free"!==j.category)){e.append("price",j.price);var n,t=(0,h.Z)(e.entries());try{for(t.s();!(n=t.n()).done;){var r=n.value;console.log(r[0]+": "+r[1])}}catch(a){t.e(a)}finally{t.f()}j.category}},children:(0,q.jsx)(v.l0,{children:function(e){switch(e){case 1:return(0,q.jsx)(A,{onNext:N,onSelectCategory:k,selectedCategory:i});case 2:return(0,q.jsx)(D,{onBack:B,onNext:N,selectedCategory:i,setFormValues:y});case 3:return(0,q.jsx)(V,{onBack:B,selectedCategory:i,setFormValues:y});default:return null}}(t)})})]})},$=function(){return(0,q.jsx)("div",{children:(0,q.jsx)(I,{})})}}}]);
//# sourceMappingURL=27.87d1ba7b.chunk.js.map